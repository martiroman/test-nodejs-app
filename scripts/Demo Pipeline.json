{"version":14,"variables":[{"key":"Application","type":"query","input":"timeseries count(argocd_app_info), by:{name}\n| fields name\n","multiple":false}],"tiles":{"3":{"type":"data","title":"","query":"timeseries count(argocd_app_info), by:{name, sync_status, health_status, project}\n| filter contains(name, $Application)\n| fields sync_status\n| limit 1","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"singleValue","visualizationSettings":{"thresholds":[{"id":1,"field":"sync_status","title":"","isEnabled":true,"rules":[{"id":0,"color":{"Default":"var(--dt-colors-charts-categorical-color-09-default, #649438)"},"comparator":"=","label":"","value":"Synced"},{"id":1,"color":{"Default":"var(--dt-colors-charts-categorical-color-06-default, #a9780f)"},"comparator":"≥","label":"","value":"OutOfSync"},{"id":2,"color":{"Default":"var(--dt-colors-charts-categorical-color-12-default, #cd3741)"},"comparator":"≥","label":""}]}],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxisLabel":"name","valueAxisLabel":"interval"},"hiddenLegendFields":[]},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","recordField":"sync_status","autoscale":true,"alignment":"center","colorThresholdTarget":"background"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{}},"histogram":{"dataMappings":[]},"honeycomb":{"shape":"hexagon","dataMappings":{"category":"sync_status","value":"sync_status"}}}},"4":{"type":"data","title":"","query":"timeseries count(argocd_app_info), by:{name, sync_status, health_status, project}\n| filter contains(name, $Application)\n| fields health_status\n| limit 1","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"singleValue","visualizationSettings":{"thresholds":[{"id":1,"field":"health_status","title":"","isEnabled":true,"rules":[{"id":0,"color":{"Default":"var(--dt-colors-charts-categorical-color-09-default, #649438)"},"comparator":"=","label":"","value":"Healthy"},{"id":1,"color":{"Default":"var(--dt-colors-charts-categorical-color-06-default, #a9780f)"},"comparator":"!=","label":"","value":"Healthy"},{"id":2,"color":{"Default":"var(--dt-colors-charts-categorical-color-12-default, #cd3741)"},"comparator":"=","label":"","value":"Degraded"}]}],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxisLabel":"name","valueAxisLabel":"interval"},"hiddenLegendFields":[]},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","recordField":"health_status","autoscale":true,"alignment":"center","colorThresholdTarget":"background"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{}},"histogram":{"dataMappings":[]},"honeycomb":{"shape":"hexagon","dataMappings":{"category":"health_status","value":"health_status"}}}},"5":{"type":"markdown","title":"","content":"# $Application\n"},"6":{"type":"markdown","title":"","content":"![argoimage](https://avatars1.githubusercontent.com/u/30269780?s=110&v=4)"},"7":{"type":"markdown","title":"","content":"![argoimage](https://www.powercloud.com.ar/img/powercloud-light.svg)"},"8":{"type":"data","title":"","query":"fetch events\n| filter event.kind == \"DAVIS_EVENT\"\n| filter event.type == \"CUSTOM_DEPLOYMENT\"\n| filter contains(source, \"GitHub\")\n// TODO: ELIMINAR cotains description\n| filter matchesValue(action, \"app-build-new\") or contains(description, \"started\")\n| filter contains(event.description, $Application)\n| summarize Pull_Requests = countDistinct(deployment.version)","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxisLabel":"deployment.version","valueAxisLabel":"countDistinct(deployment.version)"},"hiddenLegendFields":[]},"singleValue":{"showLabel":true,"label":"","prefixIcon":"RequestIcon","recordField":"Pull_Requests","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{}},"histogram":{"dataMappings":[{"valueAxis":"Pull_Requests","rangeAxis":""}]},"honeycomb":{"shape":"hexagon","dataMappings":{}}}},"9":{"type":"markdown","title":"","content":"![githubimage](https://pngimg.com/uploads/github/github_PNG67.png)"},"11":{"type":"markdown","title":"","content":"---\n"},"12":{"type":"data","title":"","query":"fetch events\n| filter event.kind == \"DAVIS_EVENT\"\n| filter event.type == \"CUSTOM_DEPLOYMENT\"\n| filter contains(source, \"GitHub\")\n// TODO: ELIMINAR cotains description\n| filter matchesValue(action, \"app-build-failed\") or contains(description, \"error\")\n| filter contains(event.description, $Application)\n| summarize Build_Errors = countDistinct(deployment.version)","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxisLabel":"deployment.version","valueAxisLabel":"countDistinct(deployment.version)"},"hiddenLegendFields":[]},"singleValue":{"showLabel":true,"label":"","prefixIcon":"ErrorIcon","recordField":"Build_Errors","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{}},"histogram":{"dataMappings":[{"valueAxis":"Build_Errors","rangeAxis":""}]},"honeycomb":{"shape":"hexagon","dataMappings":{}}}},"13":{"type":"data","title":"","query":"fetch events\n| filter matchesValue(app_name, $Application)\n| filter contains(source, \"ArgoCD\")\n| filter isNull(repo_url) // TODO: ELIMINAR ESTE FILTRO\n| filter matchesValue(action, \"app-sync-succeeded\")\n| summarize Sync = countDistinct(synced_at)","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxisLabel":"deployment.version","valueAxisLabel":"countDistinct(deployment.version)"},"hiddenLegendFields":[]},"singleValue":{"showLabel":true,"label":"","prefixIcon":"SyncDoneIcon","recordField":"Sync","autoscale":true,"alignment":"center","colorThresholdTarget":"value","sparklineSettings":{"isVisible":true},"trend":{"isVisible":true}},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{}},"histogram":{"dataMappings":[{"valueAxis":"Sync","rangeAxis":""}]},"honeycomb":{"shape":"hexagon","dataMappings":{}},"unitsOverrides":[]}},"14":{"type":"data","title":"","query":"fetch events\n| filter matchesValue(app_name, $Application)\n| filter contains(source, \"ArgoCD\")\n| filter isNull(repo_url) // TODO: ELIMINAR ESTE FILTRO\n| filter not(matchesValue(action, \"app-sync-succeeded\"))\n| summarize Sync_Errors = countDistinct(synced_at)","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxisLabel":"deployment.version","valueAxisLabel":"countDistinct(deployment.version)"},"hiddenLegendFields":[]},"singleValue":{"showLabel":true,"label":"","prefixIcon":"ErrorIcon","recordField":"Sync_Errors","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{}},"histogram":{"dataMappings":[{"valueAxis":"Sync_Errors","rangeAxis":""}]},"honeycomb":{"shape":"hexagon","dataMappings":{}}}},"15":{"type":"data","title":"","query":"fetch events\n| filter event.kind == \"DAVIS_EVENT\"\n| filter event.type == \"CUSTOM_DEPLOYMENT\"\n| filter contains(event.description, $Application) or matchesValue(app_name, $Application)\n| filter matchesValue(source, \"GitHub\") or matchesValue(source, \"ArgoCD\")\n| filter isNull(target_url)\n| sort timestamp desc","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"table","visualizationSettings":{"thresholds":[{"id":1,"field":"action","title":"","isEnabled":true,"rules":[{"id":0,"color":{"Default":"var(--dt-colors-charts-categorical-color-09-default, #649438)"},"comparator":"=","label":"","value":"app-sync-succeeded"},{"id":1,"color":{"Default":"var(--dt-colors-charts-categorical-color-14-default, #d56b1a)"},"comparator":"=","label":""},{"id":2,"color":{"Default":"var(--dt-colors-charts-categorical-color-12-default, #cd3741)"},"comparator":"=","label":"","value":""},{"id":3,"color":{"Default":"var(--dt-colors-charts-categorical-color-09-default, #649438)"},"comparator":"=","label":"","value":"app-build-new"}]},{"id":2,"field":"action","title":"","isEnabled":true,"rules":[{"id":0,"color":{"Default":"var(--dt-colors-charts-categorical-color-09-default, #649438)"},"comparator":"=","label":"","value":"test"},{"id":1,"color":{"Default":"var(--dt-colors-charts-categorical-color-14-default, #d56b1a)"},"comparator":"=","label":""},{"id":2,"color":{"Default":"var(--dt-colors-charts-categorical-color-12-default, #cd3741)"},"comparator":"=","label":"","value":""}]}],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxis":"dt.entity.service.name","valueAxis":"dt.davis.timeout","categoryAxisLabel":"dt.entity.service.name","valueAxisLabel":"dt.davis.timeout"},"fieldMapping":{"timestamp":"timestamp","leftAxisValues":["dt.davis.timeout"],"leftAxisDimensions":["action"]},"hiddenLegendFields":[]},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","recordField":"error","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"default","enableSparklines":false,"hiddenColumns":[["app_name"],["dt.davis.impact_level"],["dt.davis.is_frequent_event"],["dt.davis.is_frequent_issue_detection_allowed"],["dt.davis.mute.status"],["dt.davis.timeout"],["dt.entity.service"],["affected_entity_types"],["dt.source_entity"],["dt.source_entity.type"],["event.id"],["event.kind"],["event.start"],["event.provider"],["event.status"],["event.status_transition"],["event.type"],["maintenance.is_under_maintenance"],["dt.davis.is_rootcause_relevant"],["event.description"],["approver"],["affected_entity_ids"]],"lineWrapIds":[],"columnWidths":{},"colorThresholdTarget":"value"},"histogram":{"dataMappings":[{"valueAxis":"dt.davis.timeout","rangeAxis":""}]},"honeycomb":{"shape":"hexagon","dataMappings":{"category":"action","value":"timestamp"}}}},"16":{"type":"markdown","title":"","content":"---\n"},"17":{"type":"data","title":"Last Version","query":"fetch events\n| filter contains(event.description, $Application)\n| filter isNotNull(deployment.version)\n| sort timestamp desc\n| limit 1\n| fields version = deployment.version\n","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxisLabel":"deployment.version","valueAxisLabel":"countDistinct(deployment.version)"},"hiddenLegendFields":[]},"singleValue":{"showLabel":false,"label":"","recordField":"version","autoscale":true,"alignment":"center","colorThresholdTarget":"value","sparklineSettings":{"isVisible":false},"trend":{"isVisible":false}},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{}},"histogram":{"dataMappings":[]},"honeycomb":{"shape":"hexagon","dataMappings":{"category":"version","value":"version"}},"unitsOverrides":[]}}},"layouts":{"3":{"x":11,"y":2,"w":3,"h":2},"4":{"x":11,"y":4,"w":3,"h":2},"5":{"x":0,"y":0,"w":13,"h":1},"6":{"x":8,"y":2,"w":3,"h":3},"7":{"x":18,"y":0,"w":6,"h":2},"8":{"x":4,"y":2,"w":3,"h":2},"9":{"x":1,"y":2,"w":3,"h":3},"11":{"x":0,"y":1,"w":17,"h":1},"12":{"x":4,"y":4,"w":3,"h":2},"13":{"x":14,"y":2,"w":3,"h":2},"14":{"x":14,"y":4,"w":3,"h":2},"15":{"x":0,"y":7,"w":24,"h":6},"16":{"x":0,"y":6,"w":17,"h":1},"17":{"x":18,"y":2,"w":5,"h":4}}}